<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">  
                <h:head>
                     <script src="http://maps.google.com/maps/api/js?key=AIzaSyCe_KurEU_wXYVw8JKkW_4XTAUkR2DBL7A" type="text/javascript"></script>
          </h:head>
    <h:body>
        <ui:composition>
            
               <h:form id="form" >
                <p:growl id="messages" showDetail="true" life="2000" />  
                  <p:panel id="source" header="Points gÃ©ospaciales" style="width: 100%;" >
                   <p:gmap id="drmap" center="#{mapBean.latitude},#{mapBean.longitude}" zoom="#{mapBean.zoom}" type="HYBRID" 
                              style="width:100%;height:600px;font-size: small;"    model="#{mapBean.model}" rendered="true"
                             widgetVar="map" fitBounds="#{mapBean.fitBouns}"   >
                         <p:ajax event="overlaySelect" listener="#{mapBean.onMarkerSelect}" update=":form:messages" />
                      <p:gmapInfoWindow> 
                         <p:outputPanel
                            style="text-align:justify; display:block;margin:auto">
                              
                                <p:panelGrid columns="2"  styleClass="infoWindowOutput" >
                                 <h:outputText value="Icone :" style="color:red" />
                                 
                                <p:graphicImage value="#{mapBean.selectedMarker.data}" height="90"/>
		               
                                 <h:outputText value="Titre:" style="color:red" />
                                <h:outputText value="#{mapBean.selectedMarker.title}" />
                                 <h:outputText value="latitude:" style="color:red" />
                                 <h:outputText value="#{mapBean.selectedMarker.latlng.lat}" />
                                  <h:outputText value="longitude:" style="color:red" />
                                  <h:outputText value="#{mapBean.selectedMarker.latlng.lng}" />
                          </p:panelGrid>
        </p:outputPanel>
                      </p:gmapInfoWindow>
       </p:gmap>
        </p:panel>
          <p:commandButton value="Print"  type="button" icon="ui-icon-print">  
        <p:printer target="source"  />  
          </p:commandButton>
            </h:form>
            
        </ui:composition>
    </h:body>             </f:view>

</html>

