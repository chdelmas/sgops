<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <p:ajaxStatus style="width:16px;height:16px;">  
                 <f:facet name="start">  
                   <h:graphicImage value="/images/ajaxloading.gif" />  
                </f:facet>  
              <f:facet name="complete">  
                  <h:outputText value="" />  
              </f:facet>  
             </p:ajaxStatus>
                  
         <h:form id="sendMail" >   
                    <p:growl id="messages" showDetail="true" life="3000" sticky="true" />  
           <p:panel>     
              <h:panelGrid id="grid2" columns="2" columnClasses="label, value" styleClass="grid" >   
              <h:outputText value="From: " />
              <p:inputText id="from" value="#{sendMail.from}" disabled="true" style="width:600px;height:20px;" />

    <h:outputText value="To: " />
    <p:inputText id="to" value="#{sendMail.to}" style="width:600px;height:20px;" />
    <h:outputText value="subject:: " />
    <p:inputText id="subject" value="#{sendMail.subject}" style="width:600px;height:20px;" /> 
    <h:outputText value="Message: " />
    <p:editor id="message" value="#{sendMail.text}" /> 
  

 
             </h:panelGrid>       
                  </p:panel>      
                <h:panelGrid id="grid5" columns="2" columnClasses="label, value" styleClass="grid" >
                   
                    <p:commandButton id="btnDlgSave" value="Send"    update="messages" onclick="confirmation.show()" type="button"/>  
                    <p:confirmDialog id="dlg1" message="Souhaitez-vous Envoyer ce courriel?"   
                 
                header="Initialisation du processuss" severity="alert" widgetVar="confirmation">  
                      
                        <p:effect type="explode" event="hideEffect" />
                       
                        <p:commandButton id="btnsave" value="Oui" update="messages" oncomplete="confirmation.hide()" actionListener="#{sendMail.send}"/>
                        
        <p:commandButton value="Pas encore" onclick="confirmation.hide()" type="button" />   
                  
    </p:confirmDialog>  

                    <p:commandButton id="reset" value="New" actionListener="#"    update="messages" type="reset"/>    
        
                     </h:panelGrid> 
       </h:form>   
    </h:body>
</html>

